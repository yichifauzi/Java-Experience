/* By @FMarquesPTO. All rights reserved. */
{
  "namespace": "invite_mcjava",

  "invite_screen_content_panel@common_mcjava.scroll_screen": {
    "$top_content": "invite_mcjava.top_content",
    "$scrolling_content": "invite_mcjava.scroll_content",
    "$bottom_content": "invite_mcjava.bottom_content",
    "$bottom_content_size": ["100%", 60],
    "$dirt_scroll": true
  },

  "top_content": {
    "type": "panel",
    "controls": [
      { "title@common_mcjava.title": { "offset": [0, 4], "text": "Invite Players" } }
    ]
  },

  "scroll_content": {
    "type": "stack_panel",
    "size": [270, "100%c" ],
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "controls": [
      {
        "message@invite.friend_panel": {
          "size": [ "100%", "100%c" ],
          "ignored": "$hide_err_message",
          "controls": [
            {
              "frame_label@invite.frame_label": {
                "text": "$err_message_text",
                "color": "$error_text_color"
              }
            }
          ]
        }
      },
      // Platform Friends
      {
        "online_platform@invite.friend_panel": {
          "size": [ "100%", 10 ],
          "controls": [
            {
              "frame_label@frame_label": {
                "text": "thirdPartyConsole.invite.OnlineFriends"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#online_platform_friends_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "vertical_padding_0": {
          "type": "panel",
          "size": [ "100%", 2 ],
          "visible": "$platform_invites_visible"
        }
      },
      {
        "online_platform_friend_list_category@invite.friends_category": {
          "$collection_name": "online_platform_friends",
          "$friends_category_grid_type": "invite.online_platform_friend_list_grid",
          "$button_focus_identifier": "online_platform_friends_pagination_controls",
          "$tts_section_header": "thirdPartyConsole.invite.OnlineFriends",
          "$visibility_binding": "#online_platform_friends_visible"
        }
      },
      {
        "crossplatform_disabled_panel": {
          "type": "image",
          "texture": "textures/ui/mainbanners",
          "size": [ "100%-8px", "100%c+8px" ],
          "controls": [
            {
              "disable_text": {
                "type": "label",
                "color": "$dark_button_default_text_color",
                "size": [ "100% - 8px", "default" ],
                "layer": 1,
                "shadow": false,
                "text": "crossPlatformToggle.crossPlatformDisabled.invite"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "(not #cross_platform_enabled)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "crossplatform_disable_spacer": {
          "type": "panel",
          "size": [ "100%", 5 ],
          "bindings": [
            {
              "binding_name": "(not #cross_platform_enabled)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      // Cross-Platform Friends
      {
        "online_cross_platform@invite.friend_panel": {
          "size": [ "100%", 10 ],
          "controls": [
            {
              "frame_label@invite.frame_label": {
                "text": "invite.OnlineFriends"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#online_xbox_live_friends_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "vertical_padding_1": {
          "type": "panel",
          "size": [ 0, 1 ]
        }
      },
      {
        "online_linked_account_friend_list_category@invite.friends_category": {
          "$collection_name": "online_linked_account_friends",
          "$friends_category_grid_type": "invite.online_linked_account_friend_list_grid",
          "$button_focus_identifier": "online_linked_account_friends_pagination_controls",
          "$tts_section_header": "invite.OnlineFriends",
          "$visibility_binding": "#online_linked_account_friends_visible"
        }
      },
      {
        "online_xbox_live_friend_list_category@invite.friends_category": {
          "$collection_name": "online_xbox_live_friends",
          "$friends_category_grid_type": "invite.online_xbox_live_friend_list_grid",
          "$button_focus_identifier": "online_xbox_live_friends_pagination_controls",
          "$tts_section_header": "invite.OnlineFriends",
          "$visibility_binding": "#online_xbox_live_friends_visible"
        }
      },
      // Platform Friends
      {
        "offline_platform@invite.friend_panel": {
          "size": [ "100%", 10 ],
          "controls": [
            {
              "frame_label@invite.frame_label": {
                "text": "thirdPartyConsole.invite.OfflineFriends"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#offline_platform_friends_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "vertical_padding_2": {
          "type": "panel",
          "size": [ 0, 1 ],
          "visible": "$platform_invites_visible"
        }
      },
      {
        "offline_platform_friend_list_category@invite.friends_category": {
          "$collection_name": "offline_platform_friends",
          "$friends_category_grid_type": "invite.offline_platform_friend_list_grid",
          "$button_focus_identifier": "offline_platform_friends_pagination_controls",
          "$tts_section_header": "thirdPartyConsole.invite.OfflineFriends",
          "$visibility_binding": "#offline_platform_friends_visible"
        }
      },
      {
        "no_platform_friends@invite.friend_panel": {
          "size": [ "100%", 30 ],
          "controls": [
            {
              "no_friends_tts_wrapper@common.tts_label_focus_wrapper": {
                "$tts_label_panel": "invite.no_platform_friends_frame_label"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#no_platform_friends_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      // Cross Platform Friends
      {
        "offline_cross_platform@invite.friend_panel": {
          "size": [ "100%", 10 ],
          "controls": [
            {
              "frame_label@invite.frame_label": {
                "text": "invite.OfflineFriends"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#offline_xbox_live_friends_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "vertical_padding_3": {
          "type": "panel",
          "size": [ 0, 1 ]
        }
      },
      {
        "offline_linked_account_friend_list_category@invite.friends_category": {
          "$collection_name": "offline_linked_account_friends",
          "$friends_category_grid_type": "invite.offline_linked_account_friend_list_grid",
          "$button_focus_identifier": "offline_linked_account_friends_pagination_controls",
          "$tts_section_header": "invite.OfflineFriends",
          "$visibility_binding": "#offline_linked_account_friends_visible"
        }
      },
      {
        "offline_xbox_live_friend_list_category@invite.friends_category": {
          "$collection_name": "offline_xbox_live_friends",
          "$friends_category_grid_type": "invite.offline_xbox_live_friend_list_grid",
          "$button_focus_identifier": "offline_xbox_live_friends_pagination_controls",
          "$tts_section_header": "invite.OfflineFriends",
          "$visibility_binding": "#offline_xbox_live_friends_visible"
        }
      },
      {
        "no_xbox_live_friends@invite.friend_panel": {
          "size": [ "100%", 30 ],
          "controls": [
            {
              "no_friends_tts_wrapper@common.tts_label_focus_wrapper": {
                "$tts_label_panel": "invite.no_xbox_live_friends_frame_label"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#no_xbox_live_friends_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "bottom_content": {
    "type": "panel",
    "size": ["100%", 20],
    "offset": [0, -12],
    "anchor_from": "center",
    "anchor_to": "center",
    "controls": [
      {
        "0": {
          "type": "panel",
          "ignored": "$is_realm_owner",
          "controls": [
            {
              "0": {
                "type": "panel",
                "ignored": "($is_inviting_to_realm or (not $supports_add_friend))",
                "controls": [
                  { "add_friend@add_friend_button": { "offset": [-80, 0], "size": [150, 20] } },
                  { "send@send_button": { "offset": [80, 0], "size": [150, 20] } },
                  { "exit@common_mcjava.exit_button": { "offset": [0, 24], "$button_text": "gui.cancel" } }
                ]
              }
            },
            {
              "0": {
                "type": "panel",
                "ignored": "($supports_add_friend or (not $is_inviting_to_realm))",
                "controls": [
                  { "send@send_button": {} },
                  { "exit@common_mcjava.exit_button": { "offset": [0, 24], "$button_text": "gui.cancel" } }
                ]
              }
            }
          ]
        }
      },
      {
        "0": {
          "type": "panel",
          "ignored": "(not $is_realm_owner)",
          "controls": [
            {
              "0": {
                "type": "panel",
                "ignored": "($is_inviting_to_realm or (not $supports_add_friend))",
                "controls": [
                  { "add_friend@add_friend_button": { "offset": [-108, 0], "size": [100, 20] } },
                  { "send@send_button": { "offset": [0, 0], "size": [100, 20] } },
                  { "add_member@add_member_button": { "offset": [108, 0], "size": [100, 20] } },
                  { "exit@common_mcjava.exit_button": { "offset": [0, 24], "$button_text": "gui.cancel" } }
                ]
              }
            },
            {
              "0": {
                "type": "panel",
                "ignored": "($supports_add_friend or (not $is_inviting_to_realm))",
                "controls": [
                  { "send@send_button": { "offset": [-80, 0], "size": [150, 20] } },
                  { "add_member@add_member_button": { "offset": [80, 0], "size": [150, 20] } },
                  { "exit@common_mcjava.exit_button": { "offset": [0, 24], "$button_text": "gui.cancel" } }
                ]
              }
            }
          ]
        }
      }
    ],
    "$add_button_mappings": [
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  /* Content */

  "add_friend_button@button_mcjava.button": {
    "$pressed_button_name": "button.add_friend",
    "$button_content": "invite_mcjava.invite_button_content",
    "$button_text|default": "networkWorld.add_friend",
    "$icon_description_bind_type": "none",
    "$gamepad_helper": "helper_mcjava.gamepad_helper_y",
    "layer": 2,
    "button_mappings": "$add_button_mappings",
    "bindings": [
      {
        "binding_name": "#cross_platform_enabled",
        "binding_name_override": "#enabled"
      }
    ]
  },

  "add_member_button@button_mcjava.button": {
    "$pressed_button_name": "button.add_member",
    "$button_content": "invite.invite_button_content",
    "$button_text": "invite_mcjava.realm.add_member",
    "$icon_description_bind_type": "none",
    "$gamepad_helper": "helper_mcjava.gamepad_helper_y",
    "layer": 2,
    "button_mappings": "$add_button_mappings"
  },

  "send_button@button_mcjava.button": {
    "$pressed_button_name": "button.send_invites",
    "$button_content": "invite_mcjava.invite_button_content",
    "$button_text": "#send_button",
    "$invite_label_binding_type": "global",
    "$gamepad_helper": "helper_mcjava.gamepad_helper_x",
    "layer": 2,
    "button_mappings": [
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "invite_button_content": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "layer": 2,
    "controls": [
      {
        "gameplay_helper@$gamepad_helper": {
          "$gamepad_helper_size": [ "100%", "100%" ],
          "$description_panel_size": [ "fill", "100%" ],
          "$gamepad_description_size": [ "100%", "default" ],
          "$gamepad_description_max_size": [ "100%", "100%" ],
          "$icon_description_bind": "$button_text",
          "$gamepad_helper_icon_description_text_color": "$light_button_default_text_color",
          "$gamepad_helper_icon_description_shadow": false,
          "$icon_description_bind_condition": "none"
        }
      },
      {
        "button_label": {
          "type": "label",
          "text": "$button_text",
          "layer": 3,
          "color": "$text_color",
          "text_alignment": "center",
          "shadow": true,
          "$invite_label_binding_type|default": "none",
          "bindings": [
            {
              "ignored": "$force_show_helpers",
              "binding_name": "(not #gamepad_helper_visible)",
              "binding_name_override": "#visible"
            },
            {
              "binding_name": "$button_text",
              "binding_type": "$invite_label_binding_type"
            }
          ]
        }
      }
    ]
  },

  /* "online_platform_friend_list_grid": {
    "type": "grid",
    "grid_item_template": "online_platform_friend_grid_item",
    "grid_dimension_binding": "#online_platform_friend_grid_dimension",
    "collection_name": "$collection_name",
    "$toggle_invite_name": "toggle_platform_invite_online",
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "layer": 2,
    "size": [ "100%", "default" ],
    "bindings": [
      {
        "binding_name": "#online_platform_friend_grid_dimension"
      }
    ]
  }, */

  "offline_platform_friend_list_grid@invite.offline_platform_friend_list_grid": {
    "grid_item_template": "invite_mcjava.offline_platform_friend_grid_itemss",
    "grid_dimension_binding": "#offline_platform_friend_grid_dimension",
    "collection_name": "$collection_name",
    "$toggle_invite_name": "toggle_platform_invite_offline",
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "layer": 2,
    "size": [ "100%", "default" ],
    "bindings": [
      {
        "binding_name": "#offline_platform_friend_grid_dimension"
      }
    ]
  },

 /*  "online_platform_friend_grid_item@invite.platform_friend_grid_item_template": {
    "type": "panel",
    "$is_platform_icon": "$invite_platform_icons_visible"
  }, */

  "offline_platform_friend_grid_itemss@invite_mcjava.platform_friend_grid_item_template": {
    "type": "panel",
    "$is_platform_icon": "$invite_platform_icons_visible"
  },

  "platform_friend_grid_item_template": {
    "type": "panel",
    "size": [ "100%", 36],
    "controls": [
      { "friend_button@invite_mcjava.platform_friend_button": {} }
    ]
  },

  "platform_friend_button@common.checkbox": {
    "$pressed_button_name": "button.menu_friend_select",
    "size": [ "100%", "100%" ],
    "tts_control_type_order_priority": 100,
    "tts_value_order_priority": 101,

    "$toggle_grid_collection_name": "$collection_name",
    "$toggle_name": "$toggle_invite_name",
    "$toggle_binding_type": "collection",
    "$toggle_state_binding_name": "#toggle_invite_state",

    "controls": [
      {
        "checked@invite_mcjava.template_platform_friend_button_layout": {
          "$check_state_panel": "invite.checked_panel"
        }
      },
      {
        "unchecked@invite_mcjava.template_platform_friend_button_layout": {
          "$check_state_panel": "invite.unchecked_panel"
        }
      },
      {
        "checked_hover@invite_mcjava.template_platform_friend_button_layout": {
          "$check_state_panel": "invite.checked_hover_panel"
        }
      },
      {
        "unchecked_hover@invite_mcjava.template_platform_friend_button_layout": {
          "$check_state_panel": "invite.unchecked_hover_panel"
        }
      },
      {
        "checked_locked@invite_mcjava.template_platform_friend_button_layout": {
          "$check_state_panel": "invite.checked_locked_panel"
        }
      },
      {
        "unchecked_locked@invite_mcjava.template_platform_friend_button_layout": {
          "$check_state_panel": "invite.unchecked_locked_panel"
        }
      },
      {
        "checked_locked_hover@invite_mcjava.template_platform_friend_button_layout": {
          "$check_state_panel": "invite.checked_locked_panel"
        }
      },
      {
        "unchecked_locked_hover@invite_mcjava.template_platform_friend_button_layout": {
          "$check_state_panel": "invite.unchecked_locked_panel"
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#friend_button_focus_override_up",
        "binding_name_override": "#focus_change_up",
        "binding_type": "collection",
        "binding_collection_name": "$collection_name"
      },
      {
        "binding_name": "#friend_button_focus_override_down",
        "binding_name_override": "#focus_change_down",
        "binding_type": "collection",
        "binding_collection_name": "$collection_name"
      },
      {
        "binding_type": "$toggle_binding_type",
        "binding_condition": "$toggle_binding_condition",
        "binding_collection_name": "$toggle_grid_collection_name",
        "binding_name": "$toggle_state_binding_name",
        "binding_name_override": "#toggle_state"
      }
    ]
  },

  "template_platform_friend_button_layout": {
    "type": "panel",
    "controls": [
      { "friend_button_layout@invite_mcjava.platform_friend_button_layout": { "layer": 1 } },
      { "unchecked@$check_state_panel": {} }
    ]
  },

  "platform_friend_button_layout": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100% - 4px", "100% - 4px" ],
    "layer": 1,
    "controls": [
      {
        "third_party_pic_panel_positioner": {
          "type": "panel",
          "size": [32, 32],
          "controls": [
            {
              "pp@third_party_profile_pic_panel": {
                "layer": 1,
                "offset": [ 0, 0 ],
                "anchor_to": "center",
                "anchor_from": "center"
              }
            }
          ]
        }
      },
      {
        "spacer_02": {
          "type": "panel",
          "size": [ 2, "100%" ]
        }
      },
      {
        "friend_grid_label_layout": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "spacer_01": {
                "type": "panel",
                "size": [ "100%", 3 ]
              }
            },
            {
              "friend_grid_third_party_tag@invite.friend_grid_third_party_tag": {
                "layer": 1
              }
            },
            {
              "friend_grid_current_game_label@invite.friend_grid_current_game_label": {
                "layer": 1
              }
            }
          ]
        }
      },
      {
        "platform_icon_positioner": {
          "type": "panel",
          "size": [ 15, "100%" ],
          "controls": [
            {
              "platform_icon@invite.platform_icon_panel": {
                "layer": 1,
                "$icon_offset": [ -10, 4 ],
                "anchor_to": "top_left",
                "anchor_from": "top_left"
              }
            }
          ]
        }
      },
      {
        "online_indication_positioner": {
          "type": "panel",
          "size": [ 10, "100%" ],
          "controls": [
            {
              "indicator_images@invite.online_indicator": {
                "layer": 1,
                "anchor_to": "top_left",
                "anchor_from": "top_left",
                "$indicator_offset": [ -8, 8 ]
              }
            }
          ]
        }
      }
    ]
  },

  "third_party_profile_pic_panel": {
    "type": "panel",
    "size": [32, 32],
    "anchor_to": "left_middle",
    "anchor_from": "left_middle",
    "controls": [
      {
        "third_party_profile_pic@invite.third_party_profile_pic": {
          "layer": 1,
          "size": [ "100%", "100%" ]
        }
      }
    ]
  }
}