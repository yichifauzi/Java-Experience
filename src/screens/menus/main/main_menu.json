/* By @FMarquesPTO. All rights reserved. */
{
  "namespace": "main_menu_mcjava",

  "main_menu_screen_content_panel": {
    "type": "panel",
    "controls": [
      {
        "main_menu@main_menu_mcjava.main_menu_content_panel": {
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "credits_view",
              "source_property_name": "(not #toggle_state)",
              "target_property_name": "#visible"
            }
          ]
        }
      },
      {
        "credits@main_menu_mcjava.credits_screen_content_panel": {
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "credits_view",
              "source_property_name": "#toggle_state",
              "target_property_name": "#visible"
            }
          ]
        }
      },
      { "popup_dialog_factory@main_menu_mcjava.popup_dialog_factory": {} }
    ]
  },

  "main_menu_content_panel": {
    "type": "panel",
    "controls": [
      { "title@main_menu_mcjava.title_content_panel": {} },
      { "menu@main_menu_mcjava.menu_content_panel": {} },
      { "footer@main_menu_mcjava.footer_content_panel": {} }
    ],
    "$feedback_ignored|default": false,
    "$store_ignored|default": false,
    "variables": [
      {
        "requires": "$education_edition",
        "$store_ignored|default": true
      },
      {
        "requires": "$gear_vr",
        "$feedback_ignored": true
      },
      {
        "requires": "$fire_tv",
        "$feedback_ignored": true
      },
      {
        "requires": "$nx_os",
        "$feedback_ignored": true
      },
      {
        "requires": "(not $supports_xbl_achievements)",
        "$feedback_ignored": true
      }
    ]
  },

  "title_content_panel": {
    "type": "panel",
    "size": [274, 44],
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "offset": [0, "7% + 10px"],
    "layer": 1,
    "controls": [
      {
        "title_left@main_menu_mcjava.title_left": {
          "anchor_from": "top_left",
          "anchor_to": "top_left"
        }
      },
      {
        "title_right@main_menu_mcjava.title_right": {
          "anchor_from": "top_right",
          "anchor_to": "top_right",
          "controls": [
            { "image@common_mcjava.image": {} },
            { "splash_text@main_menu_mcjava.splash_text": { "offset": [-38, 8] } }
          ]
        }
      },
      { "$edition@$edition": {} }
    ],
    "$edition|default": "common.empty_panel",
    "variables": [
      {
        "requires": "($edition_logo = java)",
        "$edition": "main_menu_mcjava.edition_java"
      },
      {
        "requires": "($edition_logo = cpp)",
        "$edition": "main_menu_mcjava.edition_cpp"
      }
    ]
  },

  "menu_content_panel": {
    "type": "stack_panel",
    "size": [248, "100%c"],
    "anchor_from": "center",
    "anchor_to": "top_middle",
    "offset": [0, "-12%"],
    "controls": [
      {
        "play_panel@main_menu_mcjava.base_button_box": {
          "ignored": "$education_edition_china",
          "controls": [
            { "play@main_menu_mcjava.play_button": {} },
            { "realms_pending_invite_panel@main_menu_mcjava.realms_pending_invite_panel": {} }
          ]
        }
      },
      {
        "course_panel@main_menu_mcjava.base_button_box": {
          "ignored": "(not $education_edition_china)",
          "controls": [
            { "course@main_menu_mcjava.course_button": {} }
          ]
        }
      },
      { "space_zero@common_mcjava.vspace": {} },
      {
        "profile_panel@main_menu_mcjava.base_button_box": {
          "bindings": [
            {
              "binding_name": "#persona_enabled",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            { "profle@main_menu_mcjava.profile_button": {} }
          ]
        }
      },
      {
        "change_skin@main_menu_mcjava.base_button_box": {
          "bindings": [
            {
              "binding_name": "(not #persona_enabled)",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            { "change_skin@main_menu_mcjava.change_skin_button": {} }
          ]
        }
      },
      { "space_one@common_mcjava.vspace": { "ignored": "(($trial) or ($store_ignored))" } },
      {
        "store_panel@main_menu_mcjava.base_button_box": {
          "ignored": "(($trial) or ($store_ignored))",
          "controls": [
            { "store@main_menu_mcjava.store_button": {} }
          ]
        }
      },
      { "space_two@common_mcjava.vspace": { "size": [0, 16] }},
      {
        "bottom_panel@main_menu_mcjava.base_button_box": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "controls": [
            { "feedback@main_menu_mcjava.feedback_panel": {} },
            { "fill_zero@common_mcjava.hfill": {} },
            { "settings@main_menu_mcjava.settings_button": {} },
            { "space_five@common_mcjava.hspace": {} },
            { "quit_game@quit_game_button": {} },
            { "space_six@common_mcjava.hspace": { "size": [24, 0] } }/* ,
            { "unknown@main_menu_mcjava.unknown_button": {} } */
          ]
        }
      },
      { "space_six@common_mcjava.vspace": { "ignored": "(not $education_edition) or $education_edition_china" } },
      {
        "switch_accounts_panel@base_button_box": {
          "ignored": "(not $education_edition) or $education_edition_china",
          "controls": [
            { "switch_accounts@main_menu_mcjava.switch_accounts_button": {} }
          ]
        }
      },
      { "space_seven@common_mcjava.vspace": { "ignored": "($trial or not $supports_launching_legacy_version)", "bindings": [ { "binding_name": "#editions_visible", "binding_name_override": "#visible" } ] } },
      {
        "launch_editions_panel@main_menu_mcjava.base_button_box": {
          "ignored": "($trial or not $supports_launching_legacy_version)",
          "controls": [
            { "launch_editions@main_menu_mcjava.launch_editions_button": {} }
          ],
          "bindings": [
            {
              "binding_name": "#editions_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      { "space_eight@common_mcjava.vspace": { "bindings": [ { "binding_name": "#trial_game_mode", "binding_name_override": "#visible" } ] } },
      {
        "buy_game_panel@main_menu_mcjava.base_button_box": {
          "controls": [
            { "buy_game@main_menu_mcjava.buy_game_button": {} }
          ],
          "bindings": [
            {
              "binding_name": "#trial_game_mode",
              "binding_name_override": "#visible"
            },
            {
              "binding_name": "#buy_game_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "footer_content_panel": {
    "type": "panel",
    "size": [ "100% - 4px", 10],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "offset": [0, -1],
    "controls": [
      {
        "appname_and_appversion": {
          "type": "stack_panel",
          "size": ["100%c", 10],
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "orientation": "horizontal",
          "controls": [
            { "name@main_menu_mcjava.appname": {} },
            { "space": { "type": "panel", "size": [4, 0] } },
            { "version@main_menu_mcjava.appversion": {} }
          ]
        }
      },
      { "copyright@main_menu_mcjava.copyright_button": {} }
    ]
  },

  /* Content */

  "popup_dialog_factory": {
    "type": "factory",
    "control_ids": {
      "modal_dialog_popup": "@popup_mcjava.quit_game_modal"
    }
  },

  "credits_screen_content_panel@credits_mcjava.credits_screen_content_panel": {
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "credits_view",
        "source_property_name": "#toggle_state",
        "target_property_name": "#visible"
      }
    ]
  },

  /* Images */

  "panorama_overlay": {
    "type": "image",
    "texture": "assets/minecraft/textures/gui/title/background/panorama_overlay",
    "size": ["100%", "100%"],
    "alpha": 0.1,
    "nineslice_size": 0.5
  },

  "title_left@common_mcjava.image": {
    "$texture_src": "assets/minecraft/textures/gui/title/minecraft",
    "size": [155, 44],
    "uv": [0, 0],
    "variables": "$minec_title_resol"
  },

  "title_right@common_mcjava.image": {
    "$texture_src": "assets/minecraft/textures/gui/title/minecraft",
    "size": [119, 44],
    "variables": "$raft_title_resol"
  },

  "edition_java@common_mcjava.image": {
    "$texture_src": "assets/minecraft/textures/gui/title/edition",
    "size": [98, 14],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "offset": [0, 7],
    "layer": 5,
    "variables": "$edition_java_resol"
  },

  "edition_cpp@common_mcjava.image": {
    "texture": "src/assets/img/minecraft/gui/cpp_edition",
    "size": [88, 14],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "offset": [0, 7],
    "layer": 5,
    "variables": "$edition_cpp_resol"
  },

  "feedback_button_default@common_mcjava.image": {
    "size": [20, 20],
    "variables": "$feedback_button_default_resol"
  },

  "feedback_button_hover@common_mcjava.image": {
    "size": [20, 20],
    "variables": "$feedback_button_hover_resol"
  },

  "unknown_button_default@common_mcjava.image": {
    "$texture_src": "assets/minecraft/textures/gui/accessibility",
    "size": [20, 20],
    "uv": [0, 0],
    "variables": [
      { "requires": "($accessibility_resolution = 256x)", "$1": [20, 20] },
      { "requires": "($accessibility_resolution = 512x)", "$1": [40, 40] },
      { "requires": "($accessibility_resolution = 1024x)", "$1": [80, 80] },
      { "requires": "($accessibility_resolution = 2048x)", "$1": [160, 160] },
      { "requires": "($accessibility_resolution = 4096x)", "$1": [320, 320] }
    ]
  },

  "unknown_button_hover@common_mcjava.image": {
    "$texture_src": "assets/minecraft/textures/gui/accessibility",
    "size": [20, 20],
    "variables": [
      { "requires": "($accessibility_resolution = 256x)", "$0": [0, 20], "$1": [20, 20] },
      { "requires": "($accessibility_resolution = 512x)", "$0": [0, 40], "$1": [40, 40] },
      { "requires": "($accessibility_resolution = 1024x)", "$0": [0, 80], "$1": [80, 80] },
      { "requires": "($accessibility_resolution = 2048x)", "$0": [0, 160], "$1": [160, 160] },
      { "requires": "($accessibility_resolution = 4096x)", "$0": [0, 320], "$1": [320, 320] }
    ]
  },

  "realms_invs_button_default@common_mcjava.image": {
    "$texture_src": "assets/minecraft/textures/gui/widgets",
    "size": [15, 12],
    "variables": "$realms_invitations_icon_default_resol"
  },

  "realms_invs_button_hover": {
    "type": "panel",
    "$hover_state": true,
    "$pressed_state": true,
    "controls": [
      {
        "bg@common_mcjava.image": {
          "$texture_src": "assets/minecraft/textures/gui/widgets",
          "size": [15, 12],
          "variables": "$realms_invitations_icon_hover_resol"
        }
      },
      { "tooltip@tooltip_mcjava.tooltip": {} }
    ]
  },

  /* #Ended */

  "splash_text": {
    "type": "custom",
    "renderer": "splash_text_renderer",
    "size": [ 2.1, 2.1 ],
    "layer": 20,
    "anchor_from": "right_middle",
    "anchor_to": "right_middle",
    "$splash_text_visible|default": true,
    "visible": "$splash_text_visible"
  },
  
  "base_button_box": {
    "type": "panel",
    "size": [248, 20]
  },

  "play_button@button_mcjava.button": {
    "variables": [
      {
        "requires": "$education_edition",
        "$pressed_button_name": "button.menu_edu_play"
      },
      {
        "requires": "(not $education_edition)",
        "$pressed_button_name": "button.menu_play"
      }
    ],
    "$button_text": "menu.play",
    "default_focus_precedence": 1,
    "$focus_id": "play_btn",
    "$focus_override_right": "realms_invs"
  },

  "invite_notification_icon": {
    "type": "image",
    "texture": "$invite_texture",
    "size": [ 16, 16 ]
  },

  "realms_pending_invite_panel@common_mcjava.button": {
    "$pressed_button_name": "button.menu_invite_notification",
    "$button_tts_header": "realmsInvitationScreen.shareTitle",
    "$focus_id": "realms_invs",
    "$focus_override_left": "play_btn",
    "size": [ 15, 12 ],
    "anchor_from": "right_middle",
    "anchor_to": "right_middle",
    "offset": [-28, 0],
    "layer": 10,
    "$tooltip_text": "Invitations",
    "$default_control": "main_menu_mcjava.realms_invs_button_default",
    "$hover_control": "main_menu_mcjava.realms_invs_button_hover",
    "$pressed_control": "main_menu_mcjava.realms_invs_button_hover",
    "bindings": [
      {
        "binding_name": "#realms_notification_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "course_button@button_mcjava.button": {
    "$pressed_button_name": "button.menu_courses",
    "$button_text": "course.edu.courses"
  },

  "change_skin_button@button_mcjava.button": {
    "$pressed_button_name": "button.menu_skins",
    "$button_text": "menu.skins"
  },

  "profile_button@button_mcjava.button": {
    "$pressed_button_name": "button.to_profile_screen",
    "$button_text": "menu.profile"
  },

  "store_button@button_mcjava.button": {
    "$pressed_button_name": "button.menu_store",
    "$button_text": "menu.store"
  },

  "settings_button@button_mcjava.button": {
    "size": [98, 20],
    "$pressed_button_name": "button.menu_settings",
    "$button_text": "menu.options"
  },

  "quit_game_button@button_mcjava.button": {
    "size": [98, 20],
    "$pressed_button_name": "button.menu_exit",
    "$button_text": "menu.quit"
  },

  /* "unknown_button@button_mcjava.button": {
    "size": [20, 20],
    "$bg_default_src": "main_menu_mcjava.unknown_button_default",
    "$bg_hover_src": "main_menu_mcjava.unknown_button_hover",
    "$bg_locked_src": "main_menu_mcjava.unknown_button_default",
    "$button_content": "tooltip_mcjava.tooltip",
    "$tooltip_visibility": "$hover_state",
    "$tooltip_text": ",-, I'll add something here"
  }, */

  "switch_accounts_button@button_mcjava.button": {
    "$pressed_button_name": "button.switch_accounts",
    "$button_text": "accounts.switch"
  },

  "launch_editions_button@button_mcjava.button": {
    "$pressed_button_name": "button.launch_editions",
    "$button_text": "menu.editions"
  },

  "buy_game_button@button_mcjava.button": {
    "$pressed_button_name": "button.menu_buy_game",
    "$button_text": "trial.pauseScreen.buyGame"
  },

  "feedback_panel": {
    "type": "panel",
    "size": [20, 20],
    "ignored": "$feedback_ignored",
    "$bg_default_src": "main_menu_mcjava.feedback_button_default",
    "$bg_hover_src": "main_menu_mcjava.feedback_button_hover",
    "$bg_locked_src": "main_menu_mcjava.feedback_button_default",
    "controls": [
      { "edu@main_menu_mcjava.edu_feedback_button": { "ignored": "(not $education_edition)" } },
      { "release@main_menu_mcjava.release_feedback_button": { "ignored": "($pre_release or $education_edition)" } },
      { "beta@main_menu_mcjava.pre_release_feedback_button": { "ignored": "(not $pre_release or $education_edition)" } }
    ],
    "bindings": [
      {
        "binding_name": "#feedback_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "edu_feedback_button@button_mcjava.button": {
    "size": [20, 20],
    "$button_text": "",
    "$pressed_button_name": "button.edu_feedback"
  },

  "release_feedback_button@button_mcjava.link_button": {
    "size": [20, 20],
    "property_bag": {
      "#hyperlink": "https://aka.ms/minecraftfb"
    },
    "$button_text": ""
  },

  "pre_release_feedback_button@main_menu_mcjava.release_feedback_button": {
    "property_bag": {
      "#hyperlink": "https://aka.ms/minecraftfbbeta"
    }
  },
  
  "base_label": {
    "type": "label",
    "size": ["default", 10],
    "shadow": true,
    "color": "$information_text_color",
    "layer": 1
  },

  "appname@main_menu_mcjava.base_label": {
    "text": "$game_name"
  },

  "appversion": {
    "type": "panel",
    "size": ["100%c - 5px", 10],
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",
    "clips_children": true,
    "controls": [
      {
        "text@main_menu_mcjava.base_label": {
          "text": "$version_text",
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "bindings": [
            {
              "binding_name": "#version"
            }
          ]
        }
      }
    ]
  }, 

  "copyright_button@toggle_mcjava.toggle_button": {
    "size": [198, 10],
    "$focus_index": 1,
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",
    "$toggle_index": 1,
    "$toggle_button_type": "main_menu_mcjava.copyright_button_content",
    "$toggle_button_name": "credits",
    "$toggle_control_name": "credits_view"
  },

  "copyright_button_content": {
    "type": "panel",
    "size": ["100%", 10],
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",
    "controls": [
      {
        "copyright@main_menu_mcjava.base_label": {
          "text": "$copyright_text",
          "controls": "$cont",
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "$cont|default": [],
          "offset": [1, -0.5],
          "variables": [
            {
              "requires": "$unchecked_hover_state",
              "$cont": [
                {
                  "underline": {
                    "type": "image",
                    "texture": "src/assets/img/white",
                    "color": [1, 1, 1],
                    "anchor_from": "bottom_middle",
                    "offset": [0, 0.5],
                    "anchor_to": "bottom_middle",
                    "size": ["100%", "1px"],
                    "layer": 5
                  }
                }
              ]
            }
          ]
        }
      }
    ]
  }
}